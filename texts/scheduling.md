# Устройство процесса планирования

Начальное состояние: пустое расписание. То есть, оно *корректное*, но *не полное*.

На каждом шаге построения расписания к расписанию добавляется новый **слот** - описание работы, выполняемой некоторым ПЦ в некоторый промежуток времени. Ранее добавленные слоты не изменяются и не удаляются.

Построение расписания **завершается**, когда на очередном шаге не удалось добавить в расписание ни одного слота.
Полученное расписание корректно, но *не всегда является полным*.

Каждый шаг построения расписания состоит из трёх действий:


## Действие 1: генерация альтернатив

Каждая **альтернатива** задаёт полное описание выполняемого действия, то есть: операцию, исполнителя (ПЦ), продукт, время начала и время окончания выполнения операции.

Пример списка альтернатив:
- "Выполнить шлифовку на ПЦ-1 для изделия 4 с 01:00 до 02:00"
- "Выполнить шлифовку на ПЦ-2 для изделия 4 с 01:00 до 02:00"
- "Выполнить шлифовку на ПЦ-2 для изделия 3 с 02:00 до 02:30"

Каждая альтернатива - это вариант простановки одного слота на текущем шаге составления расписания,
сохраняющий расписание корректным.

**Не требуется**, чтобы любая комбинация альтернатив сохраняла корректность расписания. 
Достаточно, чтобы каждая альтернатива **в отдельности** обладала этим свойством.

## Действие 2: выбор альтернативы

Из множества альтернатив выбирается ровно одна.

Основанием для выбора могут служить:
- свойства самой альтернативы (например, длительность выполнения операции, стоимость операции);
- свойства текущего (построенного к данному моменту) расписания.

## Действие 3: применение альтернативы

Выбранная альтернатива превращается в новый **слот** в расписании.
Корректность расписания - сохраняется.

## Классы, определяющие логику работы приложения

### Класс Schedule

1. `generateAlternatives()` - перебор пар "ПЦ"-"Pointer", вызов метода генерация альтернатив для них.
2. `generateAlternativesForWorkCenter(Pointer pointer, WorkCenter workCenter)` - генерация альтернатив для указанного `Pointer`-а (указатель на следующую потенциальную операцию) и указанного ПЦ.
3. `createInitialPointers()` - создание начального набора Pointer-ов (для самого первого шага планирования).

### Класс Alternative

1. `apply()` - применение альтернативы (добавление слота в расписание).

### Интерфейс AlternativeSelector

Классы, реализующие интерфейс - это различные стратегии выбора альтернативы.

### Класс SwitchPerspectiveHandler (бандл application)

1. `trySwitchToPerspective(...)` - создаётся объект `Schedule`, работающий в режиме планирования. Здесь можно иначе параметризовать объект класса `Schedule` и тем самым *поменять параметры составления расписания*.

