# ПРАКТИКА: Выбор альтернативы одновременно по цене и времени окончания

## Суть

Мы готовы заплатить больше, если сроки сокращаются более чем на 20%.

## Алгоритм (общий)

Шаг 1. Группируем альтернативы по комбинации "единица продукции - операция".

Шаг 2. Из каждой группы выбираем по одной альтернативе. Альтернативы соревнуются внутри группы - *см. следующий раздел*.

Шаг 3. Из отобранных таким образом альтернатив - выбираем альтернативу с наименьшей ценой.

## Внутригрупповое сравнение альтернатив

Шаг 1. Для каждой альтернативы необходимо вычислить:
  - цену;
  - "время ожидания": время, которое пройдёт с момента завершения предыдущей операции до окончания слота альтернативы.
  
Показатель "длительность" может привести к неоптимальному выбору: если короткая альтернатива начнётся поздно, то и закончиться она может значительно позже более долгой альтернативы.

Поэтому нужно ориентироваться на "время ожидания".

Шаг 2. Нормализация цен: цена каждой альтернативы делится на минимальную среди всех альтернатив.
Получим числа от 1.0 и выше.

Шаг 3. Нормализация времён ожидания - аналогично ценам.

Шаг 4. В качестве "текущего кандидата" выбирается *наименее дорогая* альтернатива (с относительной ценой 1).

Шаг 5. Если "отн. время ожидания" у "текущего кандидата" - больше, чем 1.25, то возвращается "текущий кандидат" (наименее дорогая альтернатива); иначе - возвращается альтернатива с отн. временем ожидания 1 (наискорейшая альтернатива).


### Комментарий

У самой быстрой альтернативы "отн. время ожидания" равно 1. 

Если наименее дорогая альтернатива имеет отн. время ожидания `1.25`, то это означает,
что наискорейшая альтернатива - быстрее, чем наименее дорогая, на 20% (0.25 - это 20% от 1.25).

Соответственно, 1.25 - это пороговое значение относительного времени ожидания у наименее дорогой альтернативы:  
если у наименее дорогой альтернативы отн. время ожидания больше, чем 1.25 - то предпочитаем другую (наискорейшую) альтернативу.